<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教师端 - 成绩管理教学平台</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./aldebaran/teacher-dashboard.css">
</head>
<body>
    <div class="container">
        <!-- 侧边栏导航 -->
        <nav class="sidebar">
            <div class="logo">
                <h2><i class="fas fa-chalkboard-teacher"></i> 教师工作台</h2>
            </div>
            <div class="user-info">
                <img src="https://ui-avatars.com/api/?name=李老师&background=4A90E2&color=fff" alt="教师头像">
                <h3>李老师</h3>
                <p>教授 | 计算机科学系</p>
            </div>
            <ul class="nav-menu">
                <li class="active" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>仪表板</span>
                </li>
                <li data-tab="courses">
                    <i class="fas fa-book"></i>
                    <span>课程管理</span>
                </li>
                <li data-tab="assignments">
                    <i class="fas fa-tasks"></i>
                    <span>作业管理</span>
                </li>
                <li data-tab="grades">
                    <i class="fas fa-chart-bar"></i>
                    <span>成绩管理</span>
                </li>
                <li data-tab="materials">
                    <i class="fas fa-file-upload"></i>
                    <span>课件管理</span>
                </li>
            </ul>
        </nav>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部工具栏 -->
            <header class="top-bar">
                <div class="breadcrumb">
                    <span id="current-tab">仪表板</span>
                </div>
                <div class="top-actions">
                    <div class="course-selector">
                        <select id="course-select">
                            <option value="">选择课程...</option>
                        </select>
                    </div>
                    <button class="btn btn-notification">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </button>
                    <button class="btn btn-logout">
                        <i class="fas fa-sign-out-alt"></i> 退出
                    </button>
                </div>
            </header>

            <!-- 仪表板 -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-header">
                    <h1>教师仪表板</h1>
                    <p>欢迎使用成绩管理教学平台</p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #4CAF50;">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="course-count">0</h3>
                            <p>所授课程</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #2196F3;">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="student-count">0</h3>
                            <p>学生总数</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #FF9800;">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="assignment-count">0</h3>
                            <p>作业/考试</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #F44336;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="pending-count">0</h3>
                            <p>待批改</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="card">
                        <div class="card-header">
                            <h3>最近通知</h3>
                        </div>
                        <div class="card-body">
                            <ul class="notification-list">
                                <li>
                                    <i class="fas fa-exclamation-circle text-warning"></i>
                                    <span>有3份作业等待批改</span>
                                    <small>10分钟前</small>
                                </li>
                                <li>
                                    <i class="fas fa-info-circle text-info"></i>
                                    <span>系统维护通知：本周六凌晨2-4点</span>
                                    <small>昨天</small>
                                </li>
                                <li>
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>课程"数据结构"已成功发布</span>
                                    <small>2天前</small>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>快速操作</h3>
                        </div>
                        <div class="card-body">
                            <div class="quick-actions">
                                <button class="quick-btn" data-tab="materials">
                                    <i class="fas fa-upload"></i>
                                    <span>上传课件</span>
                                </button>
                                <button class="quick-btn" data-tab="assignments">
                                    <i class="fas fa-plus"></i>
                                    <span>布置作业</span>
                                </button>
                                <button class="quick-btn" data-tab="grades">
                                    <i class="fas fa-table"></i>
                                    <span>录入成绩</span>
                                </button>
                                <button class="quick-btn" data-tab="courses">
                                    <i class="fas fa-cog"></i>
                                    <span>课程配置</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 课程管理 -->
            <section id="courses" class="content-section">
                <div class="section-header">
                    <h1>课程管理</h1>
                    <button class="btn btn-primary" id="add-course-btn">
                        <i class="fas fa-plus"></i> 添加课程
                    </button>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="search-bar">
                            <input type="text" id="course-search" placeholder="搜索课程..." class="search-input">
                            <select id="course-filter" class="filter-select">
                                <option value="">全部学期</option>
                                <option value="2024-2025-1">2024-2025第一学期</option>
                                <option value="2024-2025-2">2024-2025第二学期</option>
                            </select>
                        </div>

                        <div class="table-responsive">
                            <table class="data-table" id="courses-table">
                                <thead>
                                    <tr>
                                        <th>课程编号</th>
                                        <th>课程名称</th>
                                        <th>学分</th>
                                        <th>开课院系</th>
                                        <th>学期</th>
                                        <th>学生人数</th>
                                        <th>状态</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="courses-list">
                                    <!-- 课程数据将通过JS动态加载 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 课程配置 -->
                <div class="card">
                    <div class="card-header">
                        <h3>课程配置</h3>
                    </div>
                    <div class="card-body">
                        <div class="course-config">
                            <div class="config-item">
                                <label class="switch">
                                    <input type="checkbox" id="enable-comments" checked>
                                    <span class="slider"></span>
                                </label>
                                <span>开启评论区</span>
                            </div>
                            <div class="config-item">
                                <label class="switch">
                                    <input type="checkbox" id="enable-notes" checked>
                                    <span class="slider"></span>
                                </label>
                                <span>开启笔记区</span>
                            </div>
                            <div class="config-item">
                                <label>课程简介：</label>
                                <textarea id="course-description" rows="4" placeholder="输入课程简介..."></textarea>
                            </div>
                            <button class="btn btn-primary" id="save-config-btn">
                                <i class="fas fa-save"></i> 保存配置
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 作业管理 -->
            <section id="assignments" class="content-section">
                <div class="section-header">
                    <h1>作业管理</h1>
                    <button class="btn btn-primary" id="add-assignment-btn">
                        <i class="fas fa-plus"></i> 布置作业/考试
                    </button>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="assignment-tabs">
                            <button class="tab-btn active" data-type="all">全部</button>
                            <button class="tab-btn" data-type="homework">作业</button>
                            <button class="tab-btn" data-type="exam">考试</button>
                            <button class="tab-btn" data-type="ungraded">待批改</button>
                        </div>

                        <div class="assignments-list" id="assignments-container">
                            <!-- 作业列表将通过JS动态加载 -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- 成绩管理 -->
            <section id="grades" class="content-section">
                <div class="section-header">
                    <h1>成绩管理</h1>
                    <div class="section-actions">
                        <button class="btn btn-outline" id="import-grades-btn">
                            <i class="fas fa-file-import"></i> 批量导入
                        </button>
                        <button class="btn btn-primary" id="set-grade-structure-btn">
                            <i class="fas fa-sliders-h"></i> 设置成绩构成
                        </button>
                    </div>
                </div>

                <div class="grade-structure-card card">
                    <div class="card-header">
                        <h3>成绩构成</h3>
                    </div>
                    <div class="card-body">
                        <div id="grade-items-list">
                            <!-- 成绩项将通过JS动态加载 -->
                        </div>
                        <button class="btn btn-outline" id="add-grade-item-btn">
                            <i class="fas fa-plus"></i> 添加成绩项
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="grade-actions">
                            <input type="file" id="grade-file-input" accept=".csv,.xlsx" hidden>
                            <div class="table-controls">
                                <div class="search-bar">
                                    <input type="text" id="grade-search" placeholder="搜索学生..." class="search-input">
                                </div>
                                <button class="btn btn-primary" id="predict-grades-btn">
                                    <i class="fas fa-chart-line"></i> 成绩预测
                                </button>
                            </div>
                        </div>

                        <div class="table-responsive">
                            <table class="data-table" id="grades-table">
                                <thead>
                                    <tr id="grade-table-header">
                                        <!-- 表头将通过JS动态生成 -->
                                    </tr>
                                </thead>
                                <tbody id="grades-list">
                                    <!-- 成绩数据将通过JS动态加载 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 课件管理 -->
            <section id="materials" class="content-section">
                <div class="section-header">
                    <h1>课件管理</h1>
                    <button class="btn btn-primary" id="upload-material-btn">
                        <i class="fas fa-upload"></i> 上传课件
                    </button>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="upload-area" id="upload-area">
                            <i class="fas fa-cloud-upload-alt fa-3x"></i>
                            <h3>拖拽文件到此处或点击上传</h3>
                            <p>支持文档、图片、音视频等多种格式</p>
                            <input type="file" id="file-input" multiple hidden>
                            <button class="btn btn-primary" id="browse-files-btn">
                                选择文件
                            </button>
                        </div>

                        <div class="materials-filter">
                            <select id="material-type-filter" class="filter-select">
                                <option value="">全部类型</option>
                                <option value="document">文档</option>
                                <option value="video">视频</option>
                                <option value="image">图片</option>
                                <option value="carousel">轮播图</option>
                            </select>
                        </div>

                        <div class="materials-grid" id="materials-container">
                            <!-- 课件列表将通过JS动态加载 -->
                        </div>
                    </div>
                </div>

                <!-- 轮播图管理 -->
                <div class="card">
                    <div class="card-header">
                        <h3>首页轮播图管理</h3>
                        <p class="subtitle">拖拽排序以调整显示顺序</p>
                    </div>
                    <div class="card-body">
                        <div class="carousel-list" id="carousel-list">
                            <!-- 轮播图将通过JS动态加载 -->
                        </div>
                        <div class="hint">
                            <i class="fas fa-info-circle"></i>
                            <span>拖拽项目以调整顺序，最多可设置5张轮播图</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 模态框容器 -->
    <div id="modal-container"></div>

    <!-- 脚本文件 -->
    <script src="api-service.js"></script>
    <script src="script.js"></script>
    <script src="./aldebaran/app.js"></script>
    <script src="./aldebaran/teacher-dashboard.js"></script>
</body>
</html>