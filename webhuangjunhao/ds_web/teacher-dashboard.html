<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教师工作台 - 课程与成绩管理</title>
    <link rel="stylesheet" href="teacher-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 登录模态框 -->
    <!-- <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>教师登录</h2>
                <button class="close-btn">&times;</button>
            </div>
            <form id="login-form">
                <div class="form-group">
                    <label for="username"><i class="fas fa-user"></i> 用户名</label>
                    <input type="text" id="username" name="username" placeholder="请输入用户名" required>
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> 密码</label>
                    <input type="password" id="password" name="password" placeholder="请输入密码" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> 登录
                    </button>
                </div>
            </form>
        </div>
    </div> -->

    <!-- 主界面 -->
    <div class="dashboard-container" id="dashboard-container" style="display: none;">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <h1>教师工作台</h1>
                </div>
            </div>

            <div class="user-profile">
                <div class="avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-info">
                    <h3 id="teacher-name">请登录</h3>
                    <p id="teacher-info">职称 | 院系</p>
                </div>
            </div>

            <nav class="main-nav">
                <ul>
                    <li class="nav-item active" data-tab="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>仪表盘</span>
                    </li>
                    <li class="nav-item" data-tab="courses">
                        <i class="fas fa-book"></i>
                        <span>课程管理</span>
                    </li>
                    <li class="nav-item" data-tab="materials">
                        <i class="fas fa-file-upload"></i>
                        <span>课件管理</span>
                    </li>
                    <li class="nav-item" data-tab="assignments">
                        <i class="fas fa-tasks"></i>
                        <span>作业管理</span>
                    </li>
                    <li class="nav-item" data-tab="grades">
                        <i class="fas fa-chart-bar"></i>
                        <span>成绩管理</span>
                    </li>
                </ul>
            </nav>

            <!-- <div class="sidebar-footer">
                <button id="logout-btn" class="btn btn-logout">
                    <i class="fas fa-sign-out-alt"></i> 退出登录
                </button>
            </div> -->
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部导航 -->
            <header class="top-bar">
                <div class="breadcrumb">
                    <span id="current-tab">仪表盘</span>
                </div>
                <div class="top-actions">
                    <select id="course-select" class="course-select">
                        <option value="">选择课程...</option>
                    </select>
                    <button class="btn btn-notification" id="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="notification-count">0</span>
                    </button>
                </div>
            </header>

            <!-- 消息提示 -->
            <div id="message" class="message hidden"></div>

            <!-- 仪表盘 -->
            <section id="dashboard" class="tab-content active">
                <div class="section-header">
                    <h2><i class="fas fa-tachometer-alt"></i> 仪表盘</h2>
                    <p>欢迎使用教师工作台</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon bg-primary">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="course-count">0</h3>
                            <p>所授课程</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-success">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="student-count">0</h3>
                            <p>学生总数</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-warning">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="assignment-count">0</h3>
                            <p>作业/考试</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon bg-danger">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="pending-count">0</h3>
                            <p>待批改</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-bell"></i> 最新通知</h3>
                        </div>
                        <div class="card-body">
                            <ul class="notification-list" id="notification-list">
                                <li class="no-data">暂无通知</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-bolt"></i> 快速操作</h3>
                        </div>
                        <div class="card-body">
                            <div class="quick-actions">
                                <button class="quick-btn" data-action="create-course">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>创建课程</span>
                                </button>
                                <button class="quick-btn" data-action="upload-material">
                                    <i class="fas fa-upload"></i>
                                    <span>上传课件</span>
                                </button>
                                <button class="quick-btn" data-action="create-assignment">
                                    <i class="fas fa-tasks"></i>
                                    <span>布置作业</span>
                                </button>
                                <button class="quick-btn" data-action="grade-entry">
                                    <i class="fas fa-edit"></i>
                                    <span>录入成绩</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 课程管理 -->
            <section id="courses" class="tab-content">
                <div class="section-header">
                    <h2><i class="fas fa-book"></i> 课程管理</h2>
                    <button class="btn btn-primary" id="create-course-btn">
                        <i class="fas fa-plus"></i> 创建课程
                    </button>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="course-search" placeholder="搜索课程...">
                            </div>
                            <select id="course-semester" class="filter-select">
                                <option value="">全部学期</option>
                            </select>
                            <select id="course-status" class="filter-select">
                                <option value="">全部状态</option>
                                <option value="draft">草稿</option>
                                <option value="published">已发布</option>
                                <option value="archived">已归档</option>
                            </select>
                        </div>

                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>课程编号</th>
                                        <th>课程名称</th>
                                        <th>学分</th>
                                        <th>学期</th>
                                        <th>状态</th>
                                        <th>学生数</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="courses-table-body">
                                    <tr>
                                        <td colspan="7" class="no-data">暂无课程数据</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 课程配置 -->
                <div class="card" id="course-config-section">
                    <div class="card-header">
                        <h3><i class="fas fa-cog"></i> 课程配置</h3>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="course-description">课程简介</label>
                            <textarea id="course-description" rows="4" placeholder="请输入课程简介..." data-course-id=""></textarea>
                        </div>
                        
                        <div class="config-switches">
                            <div class="config-item">
                                <label class="switch">
                                    <input type="checkbox" id="enable-comments" checked>
                                    <span class="slider"></span>
                                </label>
                                <span>开启评论区</span>
                            </div>
                            <div class="config-item">
                                <label class="switch">
                                    <input type="checkbox" id="enable-notes" checked>
                                    <span class="slider"></span>
                                </label>
                                <span>开启笔记区</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>首页轮播图管理</label>
                            <div class="carousel-manager" id="carousel-manager">
                                <div class="carousel-upload-area" id="carousel-upload-area">
                                    <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                    <p>拖拽或点击上传轮播图</p>
                                    <input type="file" id="carousel-file-input" accept="image/*" multiple hidden>
                                    <button class="btn btn-outline" id="upload-carousel-btn">上传图片</button>
                                </div>
                                <div class="carousel-list" id="carousel-list">
                                    <div class="no-data">暂无轮播图，请上传</div>
                                </div>
                                <div class="carousel-hint">
                                    <i class="fas fa-info-circle"></i>
                                    <span>拖拽排序可调整显示顺序，最多可设置5张轮播图</span>
                                </div>
                            </div>
                        </div>

                        <div class="config-actions">
                            <button class="btn btn-outline" id="preview-course-btn">
                                <i class="fas fa-eye"></i> 预览
                            </button>
                            <button class="btn btn-primary" id="save-course-config-btn">
                                <i class="fas fa-save"></i> 保存配置
                            </button>
                            <button class="btn btn-success" id="publish-course-btn">
                                <i class="fas fa-paper-plane"></i> 发布课程
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 课件管理 -->
            <section id="materials" class="tab-content">
                <div class="section-header">
                    <h2><i class="fas fa-file-upload"></i> 课件管理</h2>
                    <div class="course-selector">
                        <select id="material-course-select" class="course-select">
                            <option value="">请先选择课程</option>
                        </select>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="upload-area" id="material-upload-area">
                            <i class="fas fa-cloud-upload-alt fa-3x"></i>
                            <h3>拖拽或点击上传课件</h3>
                            <p>支持文档、图片、音频、视频等格式</p>
                            <input type="file" id="material-file-input" multiple hidden>
                            <button class="btn btn-primary" id="browse-material-btn">
                                <i class="fas fa-folder-open"></i> 选择文件
                            </button>
                        </div>

                        <div class="materials-filter">
                            <select id="material-type-filter" class="filter-select">
                                <option value="">全部类型</option>
                                <option value="document">文档</option>
                                <option value="image">图片</option>
                                <option value="video">视频</option>
                                <option value="audio">音频</option>
                                <option value="carousel">轮播图</option>
                            </select>
                            <div class="file-list-info">
                                <span id="file-count">0个文件</span>
                            </div>
                        </div>

                        <div class="materials-grid" id="materials-grid">
                            <div class="no-data">
                                <i class="fas fa-folder-open fa-3x"></i>
                                <p>暂无课件，请上传</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 作业管理 -->
            <section id="assignments" class="tab-content">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> 作业管理</h2>
                    <div class="course-selector">
                        <select id="assignment-course-select" class="course-select">
                            <option value="">请先选择课程</option>
                        </select>
                        <button class="btn btn-primary" id="create-assignment-btn">
                            <i class="fas fa-plus"></i> 布置作业
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="assignment-tabs">
                            <button class="tab-btn active" data-type="all">全部</button>
                            <button class="tab-btn" data-type="assignment">作业</button>
                            <button class="tab-btn" data-type="exam">考试</button>
                            <button class="tab-btn" data-type="ungraded">待批改</button>
                        </div>

                        <div class="assignments-list" id="assignments-list">
                            <div class="no-data">
                                <i class="fas fa-clipboard-list fa-3x"></i>
                                <p>暂无作业/考试</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 提交批改 -->
                <div class="card" id="submissions-section">
                    <div class="card-header">
                        <h3><i class="fas fa-check-circle"></i> 提交批改</h3>
                        <select id="assignment-select" class="filter-select">
                            <option value="">选择作业查看提交</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <div class="submissions-container" id="submissions-container">
                            <div class="no-data">
                                <p>请先选择作业以查看提交情况</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 成绩管理 -->
            <section id="grades" class="tab-content">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> 成绩管理</h2>
                    <div class="course-selector">
                        <select id="grade-course-select" class="course-select">
                            <option value="">请先选择课程</option>
                        </select>
                    </div>
                </div>

                <!-- 成绩构成 -->
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-sliders-h"></i> 成绩构成设置</h3>
                        <button class="btn btn-outline" id="add-grade-item-btn">
                            <i class="fas fa-plus"></i> 添加成绩项
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="grade-items-list" id="grade-items-list">
                            <div class="no-data">
                                <p>暂无成绩项，请添加</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 成绩录入 -->
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-edit"></i> 成绩录入</h3>
                        <div class="grade-actions">
                            <button class="btn btn-outline" id="download-template-btn">
                                <i class="fas fa-download"></i> 下载模板
                            </button>
                            <input type="file" id="grade-file-input" accept=".csv,.xlsx" hidden>
                            <button class="btn btn-outline" id="import-grades-btn">
                                <i class="fas fa-file-import"></i> 批量导入
                            </button>
                            <button class="btn btn-primary" id="predict-grades-btn">
                                <i class="fas fa-chart-line"></i> 成绩预测
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table" id="grades-table">
                                <thead id="grades-table-head">
                                    <tr>
                                        <th>学号</th>
                                        <th>姓名</th>
                                        <th>总分</th>
                                    </tr>
                                </thead>
                                <tbody id="grades-table-body">
                                    <tr>
                                        <td colspan="3" class="no-data">请选择课程以查看成绩</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 成绩预测结果 -->
                <div class="card" id="prediction-section" style="display: none;">
                    <div class="card-header">
                        <h3><i class="fas fa-chart-line"></i> 成绩预测结果</h3>
                    </div>
                    <div class="card-body">
                        <div class="prediction-chart" id="prediction-chart">
                            <canvas id="prediction-canvas"></canvas>
                        </div>
                        <div class="prediction-stats" id="prediction-stats"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 模态框容器 -->
        <div id="modal-container"></div>
    </div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
    <script src="teacher-dashboard.js"></script> -->
</body>
</html>